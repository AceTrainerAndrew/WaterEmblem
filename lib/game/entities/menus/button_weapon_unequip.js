/** *  button_weapon_unequip.js *  ----- */ig.module(    'game.entities.menus.button_weapon_unequip').requires(    'plugins.button.button').defines(function() {    'use strict';    ig.global.EntityButton_weapon_unequip = ig.Button.extend({        name: 'btn_weapon_equip',        text: ['Unequip'],        pressedUp: function() {            console.log('Unequipping weapon');            // Clear and recompute the modifiers applied through weapons            ig.game.clearMod(ig.game.units[ig.game.activeUnit]);            // We pass an optional boolean parameter here, to denote we don't want to             // re-equip the item in slot 0 after choosing to unequip it            ig.game.recomputeStats(ig.game.units[ig.game.activeUnit], true);            ig.game.units[ig.game.activeUnit].selectedItemIndex = null;            ig.game.units[ig.game.activeUnit].selectedWeapon = null;            ig.game.units[ig.game.activeUnit].isEquipping = false;            ig.global.killAllButtons(ig.Button);            ig.game.menuVisible = false;        }    });});